andle_dbapi_exception(
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
web-1  |     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
web-1  |     self.dialect.do_execute(
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 945, in do_execute
web-1  |     cursor.execute(statement, parameters)
web-1  | sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column users.is_new_user does not exist
web-1  | LINE 1: ...hange_required AS users_password_change_required, users.is_n...
web-1  |                                                              ^
web-1  |
web-1  | [SQL: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.is_admin AS users_is_admin, users.is_super_admin AS users_is_super_admin, users.created_at AS users_created_at, users.password_change_required AS users_password_change_required, users.is_new_user AS users_is_new_user, users.workspace_id AS users_workspace_id
web-1  | FROM users
web-1  | WHERE users.username = %(username_1)s
web-1  |  LIMIT %(param_1)s]
web-1  | [parameters: {'username_1': 'admin', 'param_1': 1}]
web-1  | (Background on this error at: https://sqlalche.me/e/20/f405)
web-1  | [2025-03-28 22:55:29 +0100] [21] [INFO] Worker exiting (pid: 21)
web-1  | [2025-03-28 22:55:29 +0100] [22] [ERROR] Exception in worker process
web-1  | Traceback (most recent call last):
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
web-1  |     self.dialect.do_execute(
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 945, in do_execute
web-1  |     cursor.execute(statement, parameters)
web-1  | psycopg2.errors.UndefinedColumn: column users.is_new_user does not exist
web-1  | LINE 1: ...hange_required AS users_password_change_required, users.is_n...
web-1  |                                                              ^
web-1  |
web-1  |
web-1  | The above exception was the direct cause of the following exception:
web-1  |
web-1  | Traceback (most recent call last):
web-1  |   File "/usr/local/lib/python3.11/site-packages/gunicorn/arbiter.py", line 608, in spawn_worker
web-1  |     worker.init_process()
web-1  |   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/gthread.py", line 94, in init_process
web-1  |     super().init_process()
web-1  |   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 135, in init_process
web-1  |     self.load_wsgi()
web-1  |   File "/usr/local/lib/python3.11/site-packages/gunicorn/workers/base.py", line 147, in load_wsgi
web-1  |     self.wsgi = self.app.wsgi()
web-1  |                 ^^^^^^^^^^^^^^^
web-1  |   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/base.py", line 66, in wsgi
web-1  |     self.callable = self.load()
web-1  |                     ^^^^^^^^^^^
web-1  |   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 57, in load
web-1  |     return self.load_wsgiapp()
web-1  |            ^^^^^^^^^^^^^^^^^^^
web-1  |   File "/usr/local/lib/python3.11/site-packages/gunicorn/app/wsgiapp.py", line 47, in load_wsgiapp
web-1  |     return util.import_app(self.app_uri)
web-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
web-1  |   File "/usr/local/lib/python3.11/site-packages/gunicorn/util.py", line 370, in import_app
web-1  |     mod = importlib.import_module(module)
web-1  |           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
web-1  |   File "/usr/local/lib/python3.11/importlib/__init__.py", line 126, in import_module
web-1  |     return _bootstrap._gcd_import(name[level:], package, level)
web-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
web-1  |   File "<frozen importlib._bootstrap>", line 1204, in _gcd_import
web-1  |   File "<frozen importlib._bootstrap>", line 1176, in _find_and_load
web-1  |   File "<frozen importlib._bootstrap>", line 1147, in _find_and_load_unlocked
web-1  |   File "<frozen importlib._bootstrap>", line 690, in _load_unlocked
web-1  |   File "<frozen importlib._bootstrap_external>", line 940, in exec_module
web-1  |   File "<frozen importlib._bootstrap>", line 241, in _call_with_frames_removed
web-1  |   File "/app/main.py", line 9, in <module>
web-1  |     initialize_app()
web-1  |   File "/app/app.py", line 201, in initialize_app
web-1  |     create_default_admin()
web-1  |   File "/app/app.py", line 175, in create_default_admin
web-1  |     existing_user = User.query.filter_by(username='admin').first()
web-1  |                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2759, in first
web-1  |     return self.limit(1)._iter().first()  # type: ignore
web-1  |            ^^^^^^^^^^^^^^^^^^^^^
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/query.py", line 2858, in _iter
web-1  |     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
web-1  |                                                   ^^^^^^^^^^^^^^^^^^^^^
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2365, in execute
web-1  |     return self._execute_internal(
web-1  |            ^^^^^^^^^^^^^^^^^^^^^^^
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
web-1  |     result: Result[Any] = compile_state_cls.orm_execute_statement(
web-1  |                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
web-1  |     result = conn.execute(
web-1  |              ^^^^^^^^^^^^^
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1416, in execute
web-1  |     return meth(
web-1  |            ^^^^^
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
web-1  |     return connection._execute_clauseelement(
web-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
web-1  |     ret = self._execute_context(
web-1  |           ^^^^^^^^^^^^^^^^^^^^^^
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
web-1  |     return self._exec_single_context(
web-1  |            ^^^^^^^^^^^^^^^^^^^^^^^^^^
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
web-1  |     self._handle_dbapi_exception(
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
web-1  |     raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
web-1  |     self.dialect.do_execute(
web-1  |   File "/usr/local/lib/python3.11/site-packages/sqlalchemy/engine/default.py", line 945, in do_execute
web-1  |     cursor.execute(statement, parameters)
web-1  | sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column users.is_new_user does not exist
web-1  | LINE 1: ...hange_required AS users_password_change_required, users.is_n...
web-1  |                                                              ^
web-1  |
web-1  | [SQL: SELECT users.id AS users_id, users.username AS users_username, users.email AS users_email, users.password_hash AS users_password_hash, users.is_admin AS users_is_admin, users.is_super_admin AS users_is_super_admin, users.created_at AS users_created_at, users.password_change_required AS users_password_change_required, users.is_new_user AS users_is_new_user, users.workspace_id AS users_workspace_id
web-1  | FROM users
web-1  | WHERE users.username = %(username_1)s
web-1  |  LIMIT %(param_1)s]
web-1  | [parameters: {'username_1': 'admin', 'param_1': 1}]
web-1  | (Background on this error at: https://sqlalche.me/e/20/f405)
web-1  | [2025-03-28 22:55:29 +0100] [22] [INFO] Worker exiting (pid: 22)
web-1  | [2025-03-28 22:55:30 +0100] [1] [ERROR] Worker (pid:21) exited with code 3
web-1  | [2025-03-28 22:55:30 +0100] [1] [ERROR] Worker (pid:22) was sent SIGTERM!
web-1  | [2025-03-28 22:55:30 +0100] [1] [ERROR] Shutting down: Master
web-1  | [2025-03-28 22:55:30 +0100] [1] [ERROR] Reason: Worker failed to boot.
